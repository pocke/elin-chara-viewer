# ソース検索

ソース検索機能は、CSVソースをSQLを用いて検索できるようにする機能。


## 目的

このアプリケーションを含め、現時点ではCSVソースをうまく検索する方法は限られている。
このアプリケーションでは任意のカラムで検索はできるものの、並べ替えや集計作業、また複数カラムの数値演算などを行うことはできない。

この問題を解決するため、ユーザーがSQLを用いてCSVソースを検索できるようにする。これによってSQLの表現力で様々な検索や集計が可能となる。

## 実装

実装にはSQLRoomsを用いる。
https://sqlrooms.org/

SQLRooms のエディタと結果表示部分を組み込むことで、SQLによる検索を実現する。

## データソース

データソースは、db/ディレクトリ下にあるCSVファイルを使用する。
テーブル名をファイル名（拡張子除く）とし、カラム名をCSVのヘッダー行から取得する。

なお、現状アプリケーションの他の部分からは一部のCSVファイルのみを使用しているが、ソース検索機能ではdb/ディレクトリ下の全てのCSVファイルを読み込む。

## パス

ソース検索機能は、`/[lang]/[version]/sources`に配置する。
